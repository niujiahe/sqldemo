<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Highcharts Test</title>
    <!--script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script-->
    <!--script src="http://code.highcharts.com/highcharts.js"></script-->
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/highcharts.js"></script>
    <script src="../js/ordersdeal.js"></script>

</head>
<body>
<script language="JavaScript">
    $(document).ready(function() {

        alert("OK");
        var data  = getsyummaryXY(document.getElementById("inputdata").value,document.getElementById("ruleAll").value);
        alert(data);

        var dataX  = data[0][0];
        var dataY1 = data[0][1];
        var dataY2 = data[1][1];

        alert(dataX);
        alert(dataY1);
        alert(dataY2);

        var title = {
            text: '订单价格'
        };

        var subtitle = {
            text: 'Test'
        };
        var xAxis = {
            categories: dataX
        };
        var yAxis = {
            title: {
                text: 'orders_price'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        };

        var tooltip = {
            valueSuffix: ''
        }

        var legend = {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        };

        var series =  [
            {
                name: 'Total price-rule1',
                data: data[0][1]
            },
            {
                name: 'Total price-rule2',
                data: data[1][1]
            },
            {
                name: 'Total count-rule1',
                data: data[0][2]
            },
            {
                name: 'Total count-rule1',
                data: data[1][2]
            },
        ];

        var json = {};

        json.title = title;
        json.subtitle = subtitle;
        json.xAxis = xAxis;
        json.yAxis = yAxis;
        json.tooltip = tooltip;
        json.legend = legend;
        json.series = series;
        $('#container').highcharts(json);
    });
</script>

<div id="container" style="width: 550px; height: 400px; margin: 0 auto"></div>
<!--/*@thymesVar id="datajson" type="java.lang.String"*/-->
<textarea id="inputdata" th:hidden="true" name="inputdata" th:inline="text">[[${dataget}]]</textarea>
<textarea id="ruleAll" th:hidden="false" name="ruleAll" th:inline="text">[[${ruleAll}]]</textarea>
</body>

</html>