<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Highcharts Test</title>
    <!--script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script-->
    <!--script src="http://code.highcharts.com/highcharts.js"></script-->
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/highcharts.js"></script>
    <script src="../js/ordersdeal.js"></script>

</head>
<body>
<script language="JavaScript">
    $(document).ready(function() {
        //var dataX = getdataX(document.getElementById("inputdata").value);
        //var dataY1 = getdataY1(document.getElementById("inputdata").value);
        //var dataY2 = getdataY2(document.getElementById("inputdata").value);

        alert("OK");
        var dataX = getsummaryX(document.getElementById("inputdata").value);
        var dataY1 = getsummaryY1(document.getElementById("inputdata").value);
        var dataY2 = getsummaryY2(document.getElementById("inputdata").value);

        alert(dataX);
        alert(dataY1);
        alert(dataY2);

        var title = {
            text: '订单价格'
        };

        var subtitle = {
            text: 'Test'
        };
        var xAxis = {
            categories: dataX
        };
        var yAxis = {
            title: {
                text: 'orders_price'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        };

        var tooltip = {
            valueSuffix: ''
        }

        var legend = {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        };

        var series =  [
            {
                name: 'Total price',
                data: dataY1
            },
            {
                name: 'Order count',
                data: dataY2
            },
        ];

        var json = {};

        json.title = title;
        json.subtitle = subtitle;
        json.xAxis = xAxis;
        json.yAxis = yAxis;
        json.tooltip = tooltip;
        json.legend = legend;
        json.series = series;
        $('#container').highcharts(json);
    });
</script>

<div id="container" style="width: 550px; height: 400px; margin: 0 auto"></div>
<!--/*@thymesVar id="datajson" type="java.lang.String"*/-->
<textarea id="inputdata" th:hidden="true" name="inputdata" th:inline="text">[[${dataget}]]</textarea>
</body>

</html>